--- 
layout: post 
title: A note on these models of SF rent
---

Everyone ([I](http://observer.com/2016/05/a-guy-just-transcribed-30-years-of-for-rent-ads/), [II](http://sf.curbed.com/2016/5/17/11692132/rent-data-eric-fischer), [III](http://www.fastcoexist.com/3060058/world-changing-ideas/a-reality-check-that-explains-san-franciscos-housing-crisis), [IV](https://www.washingtonpost.com/news/wonk/wp/2016/05/22/what-it-would-actually-take-to-reduce-rents-in-americas-most-expensive-city/), [V](http://gawker.com/there-is-no-feasible-wage-growth-for-low-income-labor-1778180896), [VI](http://cityobservatory.org/the-long-road-to-san-francisco/)) has been freaking out over Eric Ficher's [remarkable compilation of historical San Francisco rent data](https://experimental-geography.blogspot.com/2016/05/employment-construction-and-cost-of-san.html). The superlatives are deserved: this is extremely valuable data, and it's not a task that anyone else wants to do. So, bravo to Eric. We all owe him one.

What I'm less enthused about is the response to Fischer's analysis of the data, which has been...uncritical. What follows here is a quick rundown of what I see as the biggest problem with his (and the policy media's) reading of the data. My goal here is not to produce a "takedown" or something -- I myself only have undergrad-level training in econometrics -- but instead to encourage some caution in our collective interpretation of these results. Stata code is included at the bottom of the post for reproducibility. 

My gripe comes down to this: Eric ([and others](http://moreuseful.blogspot.com/2016/05/another-look-at-factors-driving-rents.html)) are running time series regressions using non-stationary data. For the statistically uninitiated, that more or less means that the average of these series changes over time. For example: GDP from 1900-2000 is non-stationary; GDP *growth* over that time is not. Similarly, there's a constant upward trend in the variables Eric uses:



Formal statistical tests confirm the visual suspicion here. As is, these variables are non-stationary. Expressed in changes -- first differences and growth rates -- they're fine:



```Stata
//Read data
import delimited combined, clear

//Basic cleaning
foreach v of varlist median_rent-cpi {
	replace `v' = "." if `v' == "NA"
	destring `v', replace
}

keep if year >= 1948

//Generate derived variables
tsset year

gen rent = median_rent / cpi
gen wages = total_wages / cpi
gen avg_wage = wages / employment 

local transform_vars rent wages avg_wage housing_units employment 
foreach v in `transform_vars' {
	gen ln_`v' = ln(`v')
	gen d_`v' = d.`v'
	gen g_`v' = d.ln_`v'
}

//Scatterplots 

```





